<Project Sdk="Microsoft.NET.Sdk">
	<PropertyGroup>
		<Configuration Condition=" '$(Configuration)' == '' ">R_ML</Configuration>
		<Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
		<ProjectGuid>{65D08CBC-E1BA-4358-88B8-5EDC529005A4}</ProjectGuid>
		<OutputType>Library</OutputType>
		<AppDesignerFolder>Properties</AppDesignerFolder>
		<RootNamespace>TheArchive.IL2CPP.R5</RootNamespace>
		<AssemblyName>TheArchive.IL2CPP.R5</AssemblyName>
		<LangVersion>10.0</LangVersion>
		<FileAlignment>512</FileAlignment>
		<Deterministic>true</Deterministic>
		<Configurations>R_ML;R_BIE</Configurations>
		<AppendTargetFrameworkToOutputPath>false</AppendTargetFrameworkToOutputPath>
	</PropertyGroup>
	
	<Import Project="../Loader.props" />
	
	<PropertyGroup>
		<AppendTargetFrameworkToOutputPath>false</AppendTargetFrameworkToOutputPath>
	</PropertyGroup>
	<ItemGroup Condition="'$(Configuration)' == 'R_ML'">
		<Reference Include="DropServerSDK-ASM">
			<HintPath>..\_R_RD005\MelonLoader\Managed\DropServerSDK-ASM.dll</HintPath>
		</Reference>
		<Reference Include="GameData-ASM">
			<HintPath>..\_R_RD005\MelonLoader\Managed\GameData-ASM.dll</HintPath>
		</Reference>
		<Reference Include="Il2Cppmscorlib">
			<HintPath>..\_R_RD005\MelonLoader\Managed\Il2Cppmscorlib.dll</HintPath>
		</Reference>
		<Reference Include="Modules-ASM">
			<HintPath>..\_R_RD005\MelonLoader\Managed\Modules-ASM.dll</HintPath>
		</Reference>
		<!--<Reference Include="Newtonsoft.Json">
			<HintPath>..\_R_RD005\MelonLoader\Managed\Newtonsoft.Json.dll</HintPath>
		</Reference>-->
		<Reference Include="UnhollowerBaseLib">
			<HintPath>..\_R_RD005\MelonLoader\Managed\UnhollowerBaseLib.dll</HintPath>
		</Reference>
		<Reference Include="UnhollowerRuntimeLib">
			<HintPath>..\_R_RD005\MelonLoader\Managed\UnhollowerRuntimeLib.dll</HintPath>
		</Reference>
		<Reference Include="UnityEngine.CoreModule, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" />
		<Reference Include="UnityEngine.PhysicsModule, Version=0.0.0.0, Culture=neutral, processorArchitecture=MSIL">
			<SpecificVersion>False</SpecificVersion>
			<HintPath>..\_R_RD005\MelonLoader\Managed\UnityEngine.PhysicsModule.dll</HintPath>
		</Reference>
	</ItemGroup>

	<ItemGroup>
		<ProjectReference Include="..\TheArchive.Core\TheArchive.Core.csproj">
			<Project>{7bb66dc5-d29d-4cdd-bb82-d228abe35bda}</Project>
			<Name>TheArchive.Core</Name>
			<CopyLocal>False</CopyLocal>
		</ProjectReference>
		<ProjectReference Include="..\TheArchive.IL2CPP\TheArchive.IL2CPP.csproj">
			<Project>{65bb64dc-68ab-4543-b176-7bf2fa8488bf}</Project>
			<Name>TheArchive.IL2CPP</Name>
			<CopyLocal>False</CopyLocal>
		</ProjectReference>
	</ItemGroup>
	<ItemGroup>
		<Folder Include="Models\" />
		<Folder Include="Properties\" />
	</ItemGroup>

	<PropertyGroup>
		<PostBuildEvent>
			cd $(MSBuildProjectDirectory)
			:: copy /y bin\$(Configuration)\TheArchive.IL2CPP.R5.dll ..\out\Modules\TheArchive.IL2CPP.R5.dll
		</PostBuildEvent>
	</PropertyGroup>
</Project>