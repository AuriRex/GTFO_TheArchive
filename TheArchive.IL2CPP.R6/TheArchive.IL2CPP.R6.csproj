<Project Sdk="Microsoft.NET.Sdk">
	<PropertyGroup>
		<Configuration Condition=" '$(Configuration)' == '' ">R_ML</Configuration>
		<Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
		<ProjectGuid>{A13776AA-7033-4424-9500-90CA9E6F7BA8}</ProjectGuid>
		<OutputType>Library</OutputType>
		<AppDesignerFolder>Properties</AppDesignerFolder>
		<RootNamespace>TheArchive.IL2CPP.R6</RootNamespace>
		<AssemblyName>TheArchive.IL2CPP.R6</AssemblyName>
		<LangVersion>10.0</LangVersion>
		<FileAlignment>512</FileAlignment>
		<Deterministic>true</Deterministic>
		<Configurations>R_ML;R_BIE</Configurations>
		<AppendTargetFrameworkToOutputPath>false</AppendTargetFrameworkToOutputPath>
	</PropertyGroup>
	<PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'R_ML|AnyCPU'">
		<TargetFramework>net472</TargetFramework>
		<OutputPath>bin\R_ML\</OutputPath>
		<DefineConstants>TRACE</DefineConstants>
		<Optimize>true</Optimize>
		<DebugType>pdbonly</DebugType>
		<PlatformTarget>AnyCPU</PlatformTarget>
		<LangVersion>9.0</LangVersion>
		<ErrorReport>prompt</ErrorReport>
	</PropertyGroup>
	<PropertyGroup Condition="'$(Configuration)|$(Platform)'=='R_BIE|AnyCPU'">
		<TargetFramework>net6.0</TargetFramework>
		<OutputPath>bin\R_BIE\</OutputPath>
		<DefineConstants>TRACE</DefineConstants>
		<Optimize>true</Optimize>
		<DebugType>pdbonly</DebugType>
		<PlatformTarget>AnyCPU</PlatformTarget>
		<LangVersion>9.0</LangVersion>
		<ErrorReport>prompt</ErrorReport>
	</PropertyGroup>
	
	<Import Project="../Loader.props" />
	
	<PropertyGroup>
		<AppendTargetFrameworkToOutputPath>false</AppendTargetFrameworkToOutputPath>
	</PropertyGroup>
	<ItemGroup>
		<Reference Include="CellSound-ASM, Version=0.0.0.0, Culture=neutral, processorArchitecture=MSIL">
			<SpecificVersion>False</SpecificVersion>
			<HintPath>$(LatestGeneratedGameAssembliesPath)CellSound-ASM.dll</HintPath>
			<Private>false</Private>
		</Reference>
		<Reference Include="DropServerSDK-ASM">
			<HintPath>$(LatestGeneratedGameAssembliesPath)DropServerSDK-ASM.dll</HintPath>
			<Private>false</Private>
		</Reference>
		<Reference Include="GameData-ASM">
			<HintPath>$(LatestGeneratedGameAssembliesPath)GameData-ASM.dll</HintPath>
			<Private>false</Private>
		</Reference>
		<Reference Include="Il2Cppmscorlib">
			<HintPath>$(LatestGeneratedGameAssembliesPath)Il2Cppmscorlib.dll</HintPath>
			<Private>false</Private>
		</Reference>
		<Reference Include="Modules-ASM">
			<HintPath>$(LatestGeneratedGameAssembliesPath)Modules-ASM.dll</HintPath>
			<Private>false</Private>
		</Reference>
		<!--<Reference Include="Newtonsoft.Json">
			<HintPath>$(LatestGeneratedGameAssembliesPath)Newtonsoft.Json.dll</HintPath>
			<Private>false</Private>
		</Reference>-->

		<Reference Include="UnityEngine.CoreModule">
			<HintPath>$(LatestGeneratedGameAssembliesPath)UnityEngine.CoreModule.dll</HintPath>
			<Private>false</Private>
		</Reference>
		<Reference Include="UnityEngine.InputLegacyModule, Version=0.0.0.0, Culture=neutral, processorArchitecture=MSIL">
			<SpecificVersion>False</SpecificVersion>
			<HintPath>$(LatestGeneratedGameAssembliesPath)UnityEngine.InputLegacyModule.dll</HintPath>
			<Private>false</Private>
		</Reference>
		<Reference Include="UnityEngine.PhysicsModule">
			<HintPath>$(LatestGeneratedGameAssembliesPath)UnityEngine.PhysicsModule.dll</HintPath>
			<Private>false</Private>
		</Reference>
		<Reference Include="Wwise-ASM, Version=0.0.0.0, Culture=neutral, processorArchitecture=MSIL">
			<SpecificVersion>False</SpecificVersion>
			<HintPath>$(LatestGeneratedGameAssembliesPath)Wwise-ASM.dll</HintPath>
			<Private>false</Private>
		</Reference>
	</ItemGroup>
	<ItemGroup>
		<ProjectReference Include="..\TheArchive.Core\TheArchive.Core.csproj">
			<Project>{7BB66DC5-D29D-4CDD-BB82-D228ABE35BDA}</Project>
			<Name>TheArchive.Core</Name>
		</ProjectReference>
		<ProjectReference Include="..\TheArchive.IL2CPP\TheArchive.IL2CPP.csproj">
			<Project>{65bb64dc-68ab-4543-b176-7bf2fa8488bf}</Project>
			<Name>TheArchive.IL2CPP</Name>
		</ProjectReference>
	</ItemGroup>
	<ItemGroup>
		<Folder Include="Models\" />
		<Folder Include="Properties\" />
	</ItemGroup>

	<PropertyGroup>
		<PostBuildEvent>
			cd $(MSBuildProjectDirectory)
			copy /y bin\$(Configuration)\TheArchive.IL2CPP.R6.dll ..\TheArchive.IL2CPP\Resources\TheArchive.IL2CPP.R6.dll
		</PostBuildEvent>
	</PropertyGroup>
</Project>