<Project Sdk="Microsoft.NET.Sdk">
	<PropertyGroup>
		<Configuration Condition=" '$(Configuration)' == '' ">R_ML</Configuration>
		<Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
		

		<RootNamespace>TheArchive</RootNamespace>
		<AssemblyName>TheArchive.Core</AssemblyName>

		<GenerateAssemblyFileVersionAttribute>false</GenerateAssemblyFileVersionAttribute>
		<GenerateAssemblyInformationalVersionAttribute>false</GenerateAssemblyInformationalVersionAttribute>
		<GenerateAssemblyVersionAttribute>false</GenerateAssemblyVersionAttribute>
	</PropertyGroup>
	
	<!-- <Import Project="../Loader.props" /> -->
	<Import Project="../Loader.props"/>
	
	
	<ItemGroup>
		<Compile Include="..\GlobalUsings.cs" Link="GlobalUsings.cs" />
	</ItemGroup>
	<!-- -->
	<!-- 
	<ItemGroup>
		<EmbeddedResource Include="Resources\TheArchive.IL2CPP.dll" />
	</ItemGroup>
	<ItemGroup>
		<EmbeddedResource Include="Resources\TheArchive.MONO.dll" />
	</ItemGroup>
	<ItemGroup>
		<EmbeddedResource Include="Resources\discord_game_sdk.dll" />
	</ItemGroup>
	-->
	<ItemGroup>
		<EmbeddedResource Include="..\README.md">
			<Link>Resources\README.md</Link>
		</EmbeddedResource>
	</ItemGroup>
	<ItemGroup>
		<EmbeddedResource Include="..\LICENSE">
			<Link>Resources\LICENSE</Link>
		</EmbeddedResource>
	</ItemGroup>
	<ItemGroup>
		<None Include="packages.config" />
	</ItemGroup>

	<ItemGroup>
		<PackageReference Include="GitInfo" Version="2.2.0" />
	</ItemGroup>

	<PropertyGroup>
		<PreBuildEvent>
			echo Building with constants: $(DefineConstants)
			echo Building for .NET: $(TargetFramework)
		</PreBuildEvent>
		<PostBuildEvent>
			if not exist "$(MSBuildProjectDirectory)\..\out\discord_game_sdk.dll" copy /y "$(MSBuildProjectDirectory)\Resources\discord_game_sdk.dll" "$(MSBuildProjectDirectory)\..\out\discord_game_sdk.dll"
			if exist "$(MSBuildProjectDirectory)\bin\$(Configuration)\TheArchive.Core.dll" copy /y "$(MSBuildProjectDirectory)\bin\$(Configuration)\TheArchive.Core.dll" "$(MSBuildProjectDirectory)\..\out\TheArchive.Core.dll"
			:: if exist "$(MSBuildProjectDirectory)\bin\$(Configuration)\TheArchive.Core.pdb" copy /y "$(MSBuildProjectDirectory)\bin\$(Configuration)\TheArchive.Core.pdb" "$(MSBuildProjectDirectory)\..\out\TheArchive.Core.pdb"
		</PostBuildEvent>
	</PropertyGroup>
</Project>