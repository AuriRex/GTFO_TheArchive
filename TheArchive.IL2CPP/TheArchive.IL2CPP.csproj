<Project Sdk="Microsoft.NET.Sdk">
	<PropertyGroup>
		<Configuration Condition=" '$(Configuration)' == '' ">R_ML</Configuration>
		<Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
		<ProjectGuid>{65BB64DC-68AB-4543-B176-7BF2FA8488BF}</ProjectGuid>
		<OutputType>Library</OutputType>
		<AppDesignerFolder>Properties</AppDesignerFolder>
		<RootNamespace>TheArchive</RootNamespace>
		<AssemblyName>TheArchive.IL2CPP</AssemblyName>
		<LangVersion>10.0</LangVersion>
		<FileAlignment>512</FileAlignment>
		<Deterministic>true</Deterministic>
		<NuGetPackageImportStamp>
		</NuGetPackageImportStamp>
	</PropertyGroup>

	<Import Project="../Loader.props" />

	<ItemGroup>

		<!--
		<Reference Include="Newtonsoft.Json">
			<HintPath>$(LatestGeneratedGameAssembliesPath)Newtonsoft.Json.dll</HintPath>
			<Private>False</Private>
		</Reference>
		-->
		
		<Reference Include="CellSound-ASM">
			<HintPath>$(LatestGeneratedGameAssembliesPath)CellSound-ASM.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="DropServerSDK-ASM, Version=3.7.1.6, Culture=neutral, processorArchitecture=MSIL">
			<SpecificVersion>False</SpecificVersion>
			<HintPath>$(LatestGeneratedGameAssembliesPath)DropServerSDK-ASM.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="GlobalFramework-ASM">
			<HintPath>$(LatestGeneratedGameAssembliesPath)GlobalFramework-ASM.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="Il2Cppmscorlib">
			<HintPath>$(LatestGeneratedGameAssembliesNoIl2CppPath)Il2Cppmscorlib.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="Il2CppSystem">
			<HintPath>$(LatestGeneratedGameAssembliesNoIl2CppPath)Il2CppSystem.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="Il2CppSystem.Core">
			<HintPath>$(LatestGeneratedGameAssembliesNoIl2CppPath)Il2CppSystem.Core.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="Modules-ASM">
			<HintPath>$(LatestGeneratedGameAssembliesPath)Modules-ASM.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="PlayFab-ASM">
			<HintPath>$(LatestGeneratedGameAssembliesPath)PlayFab-ASM.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="Plugins-ASM">
			<HintPath>$(LatestGeneratedGameAssembliesPath)Plugins-ASM.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="SNet_ASM">
			<HintPath>$(LatestGeneratedGameAssembliesPath)SNet_ASM.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="SteamWorks_ASM">
			<HintPath>$(LatestGeneratedGameAssembliesPath)SteamWorks_ASM.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="Unity.TextMeshPro">
			<HintPath>$(LatestGeneratedGameAssembliesNoIl2CppPath)Unity.TextMeshPro.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="UnityEngine.AudioModule">
			<HintPath>$(LatestGeneratedGameAssembliesNoIl2CppPath)UnityEngine.AudioModule.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="UnityEngine.CrashReportingModule">
			<SpecificVersion>False</SpecificVersion>
			<HintPath>$(LatestGeneratedGameAssembliesNoIl2CppPath)UnityEngine.CrashReportingModule.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="UnityEngine.IMGUIModule">
			<HintPath>$(LatestGeneratedGameAssembliesNoIl2CppPath)UnityEngine.IMGUIModule.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="UnityEngine.InputLegacyModule">
			<HintPath>$(LatestGeneratedGameAssembliesNoIl2CppPath)UnityEngine.InputLegacyModule.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="UnityEngine.Physics2DModule">
			<HintPath>$(LatestGeneratedGameAssembliesNoIl2CppPath)UnityEngine.Physics2DModule.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="UnityEngine.PhysicsModule">
			<HintPath>$(LatestGeneratedGameAssembliesNoIl2CppPath)UnityEngine.PhysicsModule.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="UnityEngine.UI">
			<HintPath>$(LatestGeneratedGameAssembliesNoIl2CppPath)UnityEngine.UI.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="UnityEngine.UnityAnalyticsModule">
			<HintPath>$(LatestGeneratedGameAssembliesNoIl2CppPath)UnityEngine.UnityAnalyticsModule.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="Utils-ASM">
			<HintPath>$(LatestGeneratedGameAssembliesPath)Utils-ASM.dll</HintPath>
			<Private>False</Private>
		</Reference>
		<Reference Include="Wwise-ASM">
			<HintPath>$(LatestGeneratedGameAssembliesPath)Wwise-ASM.dll</HintPath>
			<Private>False</Private>
		</Reference>
	</ItemGroup>
	<ItemGroup>
		<Compile Include="..\GlobalUsings.cs" Link="GlobalUsings.cs" />
		<Compile Include="..\TheArchive.MONO\Features\Backport\AlarmClassOnDoors.cs">
			<Link>Features\Backport\AlarmClassOnDoors.cs</Link>
		</Compile>
		<Compile Include="..\TheArchive.MONO\Features\Backport\CenterMapOnPlayer.cs" Link="Features\Backport\CenterMapOnPlayer.cs" />
		<Compile Include="..\TheArchive.MONO\Features\Backport\DontPauseAudio.cs" Link="Features\Backport\DontPauseAudio.cs" />
		<Compile Include="..\TheArchive.MONO\Features\Backport\EnhancedExpeditionTimer.cs" Link="Features\Backport\EnhancedExpeditionTimer.cs" />
		<Compile Include="..\TheArchive.MONO\Features\Backport\R1LadderFix.cs">
			<Link>Features\Backport\R1LadderFix.cs</Link>
		</Compile>
		<Compile Include="..\TheArchive.MONO\Features\Backport\R1VisualPings.cs">
			<Link>Features\Backport\R1VisualPings.cs</Link>
		</Compile>
		<Compile Include="..\TheArchive.MONO\Features\Dev\DramaManagerNoDebugLog.cs">
			<Link>Features\Dev\DramaManagerNoDebugLog.cs</Link>
		</Compile>
		<Compile Include="..\TheArchive.MONO\Features\Special\R1SNetRevisionOverridePatch.cs">
			<Link>Features\Special\R1SNetRevisionOverridePatch.cs</Link>
		</Compile>
	</ItemGroup>
	<ItemGroup>
		<EmbeddedResource Include="Resources\TheArchive.IL2CPP.R5.dll" />
		<EmbeddedResource Include="Resources\TheArchive.IL2CPP.R6.dll" />
	</ItemGroup>
	<ItemGroup>
		<ProjectReference Include="..\TheArchive.Core\TheArchive.Core.csproj">
			<Project>{7bb66dc5-d29d-4cdd-bb82-d228abe35bda}</Project>
			<Name>TheArchive.Core</Name>
			<Private>False</Private>
			<CopyLocal>False</CopyLocal>
		</ProjectReference>
	</ItemGroup>
	<ItemGroup>
		<Folder Include="Properties\" />
	</ItemGroup>

	<PropertyGroup>
		<PostBuildEvent>
			cd $(MSBuildProjectDirectory)
			copy /y bin\$(Configuration)\TheArchive.IL2CPP.dll ..\out\Modules\TheArchive.IL2CPP.dll
		</PostBuildEvent>
	</PropertyGroup>

</Project>